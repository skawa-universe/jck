function r(b){var d=0;return function(){return d<b.length?{done:!1,value:b[d++]}:{done:!0}}}function t(b){this.position=b}var u=function(){var b={};Array.from('"\\/bfnrtu').forEach(function(d){return b[d]=!0});return b}(),v=/[0-9a-fA-F]/;
function w(b,d){function e(a){return b.substring(f,f+a.length)===a}function c(a){if(!e(a))throw new t(f);f+=a.length}function h(){var a=/[^\s]/g;a.lastIndex=f;f=(a=a.exec(b))?a.index:b.length}function g(){return b.charAt(f)}function l(){++f;return g()}var f=d||0;"number"!==typeof f&&(f=0);var k={s:function(){c('"');for(var a=!1;'"'!==b.charAt(f)||a;)if(a){if("u"===g())for(++f,a=0;4>a;++a){if(!v.test(g()))throw new t(f);++f}else if(u[g()])++f;else throw new t(f);a=!1}else a="\\"===g()?!0:!1,++f;c('"')},
n:function(){var a=g();for("-"===a&&(a=l());"0"<=a&&"9">=a;)a=l();if("."===a)for(a=l();"0"<=a&&"9">=a;)a=l();if("e"===a||"E"===a){a=l();if("+"===a||"-"===a)a=l();for(;"0"<=a&&"9">=a;)a=l()}},k:function(){[!0,!1,null].map(String).find(function(a){return e(a)?(c(a),!0):!1})},o:function(){c("{");for(h();!e("}");){k.s();h();c(":");k._();h();if(e("}"))break;c(",");h()}++f},a:function(){c("[");for(h();!e("]");){k._();h();if(e("]"))break;c(",");h()}++f},_:function(){h();var a=g(),p={tfn:"k","{":"o","[":"a",
"-0123456789":"n",'"':"s"},n;for(n in p)if(1<n.length){var m=n;var q="undefined"!=typeof Symbol&&Symbol.iterator&&m[Symbol.iterator];m=q?q.call(m):{next:r(m)};for(q=m.next();!q.done;q=m.next())p[q.value]=p[n]}if((a=p[a])&&k[a])k[a].call(k);else throw new t(f);}};k._();return f}function x(b){return new Promise(function(d,e){var c=new FileReader;c.onload=function(){d(c.result)};c.onerror=function(){e("error loading file")};c.readAsText(b,"UTF-8")})}
function y(b,d){d=d||0;for(var e=[],c=0;c<b.length;){var h=40-d;d=0;e.push(b.substring(c,c+h));c+=h}return e}function z(b,d){var e=document.createElement("span");e.textContent=b;e.className=d;return e}function A(b){return" ">b?String.fromCharCode(9216+b.charCodeAt(0)):b}
function B(b){x(b).then(function(d){var e=null;console.log("File size in characters: "+d.length);var c=0,h=document.querySelector(".error.hidden");h.parentNode.appendChild(h.cloneNode(!0));h.classList.remove("hidden");try{for(;null===e||e<d.length;)e=w(d,e),++c;console.log("Number of records: "+c);var g=b.name;h.textContent=g?g+" is correct":"Correct";h.classList.add("correct")}catch(f){if(f instanceof t){console.log("Number of records before the error: "+c);h.classList.remove("correct");for(g=c=
e=0;g<f.position;++g)"\n"===d.charAt(g)?(++e,c=0):++c;g=b.name;var l="Error";g&&(l+=" in "+g);h.textContent=l+" at position "+f.position+" row "+(e+1)+" column "+(c+1);g=document.createElement("pre");e=f.position-256;0>e&&(e=0);c=e+512;c>d.length&&(c=d.length);c=d.substring(e,c);d=y(c.substring(0,f.position-e),0);e=y(c.substring(f.position-e),d[d.length-1].length);g.appendChild(z(d.map(function(k){return Array.from(k).map(A).join("")}).join("\n"),"before"));g.appendChild(z("","marker"));g.appendChild(z(e.map(function(k){return Array.from(k).map(A).join("")}).join("\n"),
"after"));d=document.createElement("div");d.classList.add("outer");d.appendChild(g);h.appendChild(d)}else throw f;}})["catch"](function(d){console.error(d)})}
(function(b,d){function e(a,p){var n=!1;Array.prototype.slice.call(a.files).forEach(function(m){n=!0;d(m,p)});return n}function c(a){a.stopPropagation();a.preventDefault();a.dataTransfer.dropEffect="copy";a.currentTarget.classList.add("dragOver")}function h(a){a.stopPropagation();a.preventDefault();e(a.dataTransfer,a);a.currentTarget.classList.remove("dragOver")}function g(a){a.currentTarget.classList.add("dragOver")}function l(a){a.currentTarget.classList.remove("dragOver")}var f={},k=!1;f.bind=
function(){k=!0;b.addEventListener("dragover",c,!1);b.addEventListener("drop",h,!1);b.addEventListener("dragenter",g,!1);b.addEventListener("dragleave",l,!1)};f.b=function(){k&&(b.removeEventListener("dragover",c,!1),b.removeEventListener("drop",h,!1),b.removeEventListener("dragenter",g,!1),b.removeEventListener("dragleave",l,!1),k=!1)};f.bind();return f})(document.body,B);document.querySelector("input[type=file]").addEventListener("change",function(b){return Array.from(b.target.files).forEach(B)});
