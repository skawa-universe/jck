function p(c){var b=0;return function(){return b<c.length?{done:!1,value:c[b++]}:{done:!0}}}function r(c){var b="undefined"!=typeof Symbol&&Symbol.iterator&&c[Symbol.iterator];return b?b.call(c):{next:p(c)}}function u(c){if(!(c instanceof Array)){c=r(c);for(var b,f=[];!(b=c.next()).done;)f.push(b.value);c=f}return c}function v(c){this.position=c}var w=function(){var c={};Array.from('"\\/bfnrtu').forEach(function(b){return c[b]=!0});return c}(),x=/[0-9a-fA-F]/;
function y(c,b){function f(a){return c.substring(e,e+a.length)===a}function d(a){if(!f(a))throw new v(e);e+=a.length}function g(){var a=/[^\s]/g;a.lastIndex=e;e=(a=a.exec(c))?a.index:c.length}function h(){return c.charAt(e)}function l(){++e;return h()}var e=b||0;"number"!==typeof e&&(e=0);var m={s:function(){d('"');for(var a=!1;'"'!==c.charAt(e)||a;)if(a){if("u"===h())for(++e,a=0;4>a;++a){if(!x.test(h()))throw new v(e);++e}else if(w[h()])++e;else throw new v(e);a=!1}else a="\\"===h()?!0:!1,++e;d('"')},
n:function(){var a=h();for("-"===a&&(a=l());"0"<=a&&"9">=a;)a=l();if("."===a)for(a=l();"0"<=a&&"9">=a;)a=l();if("e"===a||"E"===a){a=l();if("+"===a||"-"===a)a=l();for(;"0"<=a&&"9">=a;)a=l()}},k:function(){[!0,!1,null].map(String).find(function(a){return f(a)?(d(a),!0):!1})},o:function(){d("{");for(g();!f("}");){m.s();g();d(":");m._();g();if(f("}"))break;d(",");g()}++e},a:function(){d("[");for(g();!f("]");){m._();g();if(f("]"))break;d(",");g()}++e},_:function(){g();var a=h(),n={tfn:"k","{":"o","[":"a",
"-0123456789":"n",'"':"s"},k;for(k in n)if(1<k.length)for(var q=r(k),t=q.next();!t.done;t=q.next())n[t.value]=n[k];if((a=n[a])&&m[a])m[a].call(m);else throw new v(e);}};m._();return e}function z(c){return new Promise(function(b,f){var d=new FileReader;d.onload=function(){b(d.result)};d.onerror=function(){f("error loading file")};d.readAsText(c,"UTF-8")})}function A(c,b){b=b||0;for(var f=[],d=0;d<c.length;){var g=40-b;b=0;f.push(c.substring(d,d+g));d+=g}return f}
function B(c,b){var f=document.createElement("span");b&&(f.className=b);f.textContent=c;return f}function C(c,b,f){var d=document.createElement("span");d.className=b;c=r(Array.from(c));for(b=c.next();!b.done;b=c.next())b=b.value," "<=b?(b=B(b,null),f.push(b),d.appendChild(b)):d.appendChild(document.createTextNode(b));d.normalize();return d}function D(c){return" ">c?String.fromCharCode(9216+c.charCodeAt(0)):c}
function E(c){z(c).then(function(b){var f=null,d=/\s+/g;console.log("File size in characters: "+b.length);var g=0,h=document.querySelector(".error.hidden");h.parentNode.appendChild(h.cloneNode(!0));h.classList.remove("hidden");try{for(;null===f||f<b.length;){d.lastIndex=f;var l=d.exec(b);l.index===f&&(f+=l[0].length);if(f>=b.length)break;f=y(b,f);++g}console.log("Number of records: "+g);var e=c.name;h.textContent=e?e+" is correct":"Correct";h.classList.add("correct")}catch(n){if(n instanceof v){console.log("Number of records before the error: "+
g);h.classList.remove("correct");g=d=0;f=[];for(e=0;e<n.position;++e)"\n"===b.charAt(e)?(++d,g=0):++g;e=c.name;l="Error";e&&(l+=" in "+e);h.textContent=l+" at position "+n.position+" row "+(d+1)+" column "+(g+1);e=document.createElement("pre");d=n.position-260;0>d&&(d=0);g=d+520;g>b.length&&(g=b.length);g=b.substring(d,g);b=A(g.substring(0,n.position-d),0);d=A(g.substring(n.position-d),(b[b.length-1]||"").length);e.appendChild(C(b.map(function(k){return Array.from(k).map(D).join("")}).join("\n"),
"before",f));e.appendChild(B("","marker"));e.appendChild(C(d.map(function(k){return Array.from(k).map(D).join("")}).join("\n"),"after",f));b=document.createElement("div");b.classList.add("outer");b.appendChild(e);h.appendChild(b);var m=Math.max.apply(Math,u(f.map(function(k){return k.offsetWidth})));if(8<m){var a=m+"px";f.forEach(function(k){k.style.fontStretch=100*m/k.offsetWidth+"%";k.style.width=a})}}else throw n;}})["catch"](function(b){console.error(b)})}
(function(c,b){function f(a,n){var k=!1;Array.prototype.slice.call(a.files).forEach(function(q){k=!0;b(q,n)});return k}function d(a){a.stopPropagation();a.preventDefault();a.dataTransfer.dropEffect="copy";a.currentTarget.classList.add("dragOver")}function g(a){a.stopPropagation();a.preventDefault();f(a.dataTransfer,a);a.currentTarget.classList.remove("dragOver")}function h(a){a.currentTarget.classList.add("dragOver")}function l(a){a.currentTarget.classList.remove("dragOver")}var e={},m=!1;e.bind=
function(){m=!0;c.addEventListener("dragover",d,!1);c.addEventListener("drop",g,!1);c.addEventListener("dragenter",h,!1);c.addEventListener("dragleave",l,!1)};e.b=function(){m&&(c.removeEventListener("dragover",d,!1),c.removeEventListener("drop",g,!1),c.removeEventListener("dragenter",h,!1),c.removeEventListener("dragleave",l,!1),m=!1)};e.bind();return e})(document.body,E);document.querySelector("input[type=file]").addEventListener("change",function(c){return Array.from(c.target.files).forEach(E)});
