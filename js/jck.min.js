function r(c){var e=0;return function(){return e<c.length?{done:!1,value:c[e++]}:{done:!0}}}function t(c){this.position=c}var u=function(){var c={};Array.from('"\\/bfnrtu').forEach(function(e){return c[e]=!0});return c}(),v=/[0-9a-fA-F]/;
function w(c,e){function d(a){return c.substring(b,b+a.length)===a}function f(a){if(!d(a))throw new t(b);b+=a.length}function g(){var a=/[^\s]/g;a.lastIndex=b;b=(a=a.exec(c))?a.index:c.length}function h(){return c.charAt(b)}function l(){++b;return h()}var b=e||0;"number"!==typeof b&&(b=0);var k={s:function(){f('"');for(var a=!1;'"'!==c.charAt(b)||a;)if(a){if("u"===h())for(++b,a=0;4>a;++a){if(!v.test(h()))throw new t(b);++b}else if(u[h()])++b;else throw new t(b);a=!1}else a="\\"===h()?!0:!1,++b;f('"')},
n:function(){var a=h();for("-"===a&&(a=l());"0"<=a&&"9">=a;)a=l();if("."===a)for(a=l();"0"<=a&&"9">=a;)a=l();if("e"===a||"E"===a){a=l();if("+"===a||"-"===a)a=l();for(;"0"<=a&&"9">=a;)a=l()}},k:function(){[!0,!1,null].map(String).find(function(a){return d(a)?(f(a),!0):!1})},o:function(){f("{");for(g();!d("}");){k.s();g();f(":");k._();g();if(d("}"))break;f(",");g()}++b},a:function(){f("[");for(g();!d("]");){k._();g();if(d("]"))break;f(",");g()}++b},_:function(){g();var a=h(),p={tfn:"k","{":"o","[":"a",
"-0123456789":"n",'"':"s"},n;for(n in p)if(1<n.length){var m=n;var q="undefined"!=typeof Symbol&&Symbol.iterator&&m[Symbol.iterator];m=q?q.call(m):{next:r(m)};for(q=m.next();!q.done;q=m.next())p[q.value]=p[n]}if((a=p[a])&&k[a])k[a].call(k);else throw new t(b);}};k._();return b}function x(c){return new Promise(function(e,d){var f=new FileReader;f.onload=function(){e(f.result)};f.onerror=function(){d("error loading file")};f.readAsText(c,"UTF-8")})}
function y(c,e){e=e||0;for(var d=[],f=0;f<c.length;){var g=40-e;e=0;d.push(c.substring(f,f+g));f+=g}return d}function z(c,e){var d=document.createElement("span");d.textContent=c;d.className=e;return d}function A(c){return" ">c?String.fromCharCode(9216+c.charCodeAt(0)):c}
function B(c){x(c).then(function(e){var d=null,f=/\s+/g;console.log("File size in characters: "+e.length);var g=0,h=document.querySelector(".error.hidden");h.parentNode.appendChild(h.cloneNode(!0));h.classList.remove("hidden");try{for(;null===d||d<e.length;){f.lastIndex=d;var l=f.exec(e);l.index===d&&(d+=l[0].length);if(d>=e.length)break;d=w(e,d);++g}console.log("Number of records: "+g);var b=c.name;h.textContent=b?b+" is correct":"Correct";h.classList.add("correct")}catch(k){if(k instanceof t){console.log("Number of records before the error: "+
g);h.classList.remove("correct");for(b=f=d=0;b<k.position;++b)"\n"===e.charAt(b)?(++d,f=0):++f;b=c.name;g="Error";b&&(g+=" in "+b);h.textContent=g+" at position "+k.position+" row "+(d+1)+" column "+(f+1);b=document.createElement("pre");d=k.position-256;0>d&&(d=0);f=d+512;f>e.length&&(f=e.length);f=e.substring(d,f);e=y(f.substring(0,k.position-d),0);d=y(f.substring(k.position-d),(e[e.length-1]||"").length);b.appendChild(z(e.map(function(a){return Array.from(a).map(A).join("")}).join("\n"),"before"));
b.appendChild(z("","marker"));b.appendChild(z(d.map(function(a){return Array.from(a).map(A).join("")}).join("\n"),"after"));e=document.createElement("div");e.classList.add("outer");e.appendChild(b);h.appendChild(e)}else throw k;}})["catch"](function(e){console.error(e)})}
(function(c,e){function d(a,p){var n=!1;Array.prototype.slice.call(a.files).forEach(function(m){n=!0;e(m,p)});return n}function f(a){a.stopPropagation();a.preventDefault();a.dataTransfer.dropEffect="copy";a.currentTarget.classList.add("dragOver")}function g(a){a.stopPropagation();a.preventDefault();d(a.dataTransfer,a);a.currentTarget.classList.remove("dragOver")}function h(a){a.currentTarget.classList.add("dragOver")}function l(a){a.currentTarget.classList.remove("dragOver")}var b={},k=!1;b.bind=
function(){k=!0;c.addEventListener("dragover",f,!1);c.addEventListener("drop",g,!1);c.addEventListener("dragenter",h,!1);c.addEventListener("dragleave",l,!1)};b.b=function(){k&&(c.removeEventListener("dragover",f,!1),c.removeEventListener("drop",g,!1),c.removeEventListener("dragenter",h,!1),c.removeEventListener("dragleave",l,!1),k=!1)};b.bind();return b})(document.body,B);document.querySelector("input[type=file]").addEventListener("change",function(c){return Array.from(c.target.files).forEach(B)});
